<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>LTZ-LitecoinZ-Designed-for-the-Future</title>
    <meta property="og:type" content="website">
    <meta name="twitter:description" content="LitecoinZ ( LTZ ) is the Decentralized  cryptocurrency for your need to choose.">
    <meta name="description" content="LitecoinZ ( LTZ ) is the Decentralized  cryptocurrency for your need to choose.">
    <meta name="twitter:title" content="LTZ-LitecoinZ-Designed for the Future">
    <meta name="twitter:card" content="summary_large_image">
    <meta property="og:image" content="../assets/img/LitecoinZLogoFacebook.svg">
    <meta name="twitter:image" content="../assets/img/LitecoinZLogoFacebook.svg">
    <meta property="og:description" content="LitecoinZ ( LTZ ) is the Decentralized  cryptocurrency for your need to choose.">
    <meta name="theme-color" content="#35153a">
    <link rel="icon" type="image/svg+xml" sizes="467x465" href="../assets/img/logos/iconLTZ.svg">
    <link rel="icon" type="image/svg+xml" sizes="467x465" href="../assets/img/logos/iconLTZ.svg">
    <link rel="icon" type="image/svg+xml" sizes="467x465" href="../assets/img/logos/iconLTZ.svg">
    <link rel="icon" type="image/svg+xml" sizes="467x465" href="../assets/img/logos/iconLTZ.svg">
    <link rel="icon" type="image/svg+xml" sizes="467x465" href="../assets/img/logos/iconLTZ.svg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="manifest" href="../manifest.json">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Bitter:400,700">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Finger+Paint">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.1.1/aos.css">
    <link rel="stylesheet" href="../assets/css/styles.min.css">
</head>

<body>
    <div style="color: none;">
        <div class="header-dark" style="background-image: url(&quot;none&quot;);height: auto;padding-bottom: 0px;color: none;background-color: none;">
            <nav class="navbar navbar-dark navbar-expand-md navigation-clean-search" style="background-color: #2a2a2a;">
                <div class="container"><a class="navbar-brand" href="../ltzcore.html"><img style="width: 148px;margin-left: 35px;" src="../assets/img/logos/ltzcorelogo.png"></a><button data-toggle="collapse" class="navbar-toggler" data-target="#navcol-1"><span class="sr-only">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
                    <div
                        class="collapse navbar-collapse" id="navcol-1">
                        <ul class="nav navbar-nav">
                            <li class="nav-item" role="presentation"><a class="nav-link text-right" href="../index.html"><strong>LitecoinZ</strong></a></li>
                            <li class="nav-item" role="presentation"><a class="nav-link text-right" href="https://github.com/LitecoinZ-Community/ltzcore"><strong>Github</strong></a></li>
                            <li class="nav-item" role="presentation"><a class="nav-link text-right" href="#"><strong>Guides</strong></a></li>
                            <li class="nav-item" role="presentation"><a class="nav-link text-right" href="https://github.com/LitecoinZ-Community/ltzcore/tree/master/packages"><strong>Doc</strong></a></li>
                        </ul>
                </div>
        </div>
        </nav>
    </div>
    </div>
    <div style="margin-top: 90px;">
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-xl-3">
                    <h1>Guides</h1>
                    <ul class="nav flex-column" style="padding-right: 43px;">
                        <li class="nav-item"><a class="nav-link active" href="fullnode.html"><strong>Running a Full Node</strong><br></a></li>
                        <li class="nav-item"><a class="nav-link" style="color: #2a2a2a;" href="ltzstandalone.html"><strong>Run LTZ Standalone</strong><br></a></li>
                        <li class="nav-item"><a class="nav-link" style="color: #2a2a2a;" href="ltzdeamon.html"><strong>LTZ as Deamon</strong><br></a></li>
                        <li class="nav-item"><a class="nav-link" style="color: #2a2a2a;" href="walletservice.html"><strong>Wallet-Service</strong><br></a></li>
                        <li class="nav-item"><a class="nav-link" style="color: #2a2a2a;" href="browser.html"><strong>Browser Builds</strong><br></a></li>
                    </ul>
                    <h1><span style="text-decoration: underline;">Tutorials</span></h1>
                    <ul class="nav flex-column" style="padding-right: 43px;">
                        <li class="nav-item"><a class="nav-link active" href="servicedev.html"><strong>Service Development</strong><br></a></li>
                        <li class="nav-item"><a class="nav-link" style="color: #2a2a2a;" href="movealram.html"><strong>Movemnet Alarm</strong><br></a></li>
                        <li class="nav-item"><a class="nav-link border rounded" style="color: #2a2a2a;background-color: #ffc033;" href="lemonade.html"><strong>Lemonade Stand</strong><br></a></li>
                        <li class="nav-item"><a class="nav-link" style="color: #2a2a2a;" href="proof.html"><strong>Proof it. Timestamp</strong><br></a></li>
                    </ul>
                </div>
                <div class="col-md-6 col-xl-8 text-break">
                    <h1 style="color: #2a2a2a;"><strong>Lemonade Stand</strong><br></h1>
                    <p style="color: #2a2a2a;font-weight: normal;"><br>This tutorial will go over how to accept litecoinz payments via a web site directly to your wallet. We will interact with a ltzcore node from a web browser to receive payment notifications. And we will generate new keys on the
                        server side for each purchase.<br><br><br><br><strong>Create a Service</strong><br><br><br><br>Please refer to the [<a href="servicedev.html"><strong>service development document</strong></a>].<br><br><br><br><strong>&nbsp;Generate Invoice Page</strong><br><br><br><br>For
                        our simple application, we're going to have two pages. One page to generate an invoice, and another page to display and pay the invoice.<br><br><br><br>Let's start with generating an invoice. We'll need a route ( .js ):<br><br><br></p>
                    <p
                        class="border rounded code" style="color: #eff1f4;background-color: #2a2a2a;padding-left: 15px;padding-right: 15px;font-weight: normal;"><br>LemonadeStand.prototype.setupRoutes = function(app, express) {<br><br>&nbsp;app.use('/', express.static(__dirname + '/static'));<br><br>};<br><br><br><br>LemonadeStand.prototype.getRoutePrefix = function() {<br><br>&nbsp;return
                        'lemonade-stand';<br><br>};<br><br></p>
                        <p class="text-break text-left" style="color: #2a2a2a;font-weight: normal;"><br><br>Create a `<strong>static</strong>` and put an `<strong>index.html</strong>` in it:<br><br></p>
                        <p class="text-nowrap" style="overflow-x: scroll;color: #fcfeff;background-color: #2a2a2a;padding-left: 15px;padding-right: 15px;padding-top: 15px;padding-bottom: 15px;font-weight: normal;">&lt;!DOCTYPE html&gt;<br><br>&lt;html&gt;<br><br>&lt;head&gt;<br><br>&nbsp;&lt;title&gt;Lemonade Stand&lt;/title&gt;<br><br>&lt;/head&gt;<br><br><br><br>&lt;body&gt;<br><br>&nbsp;&lt;h1&gt;Lemonade Stand&lt;/h1&gt;<br><br>&nbsp;&lt;h2&gt;Invoice&lt;/h2&gt;<br><br><br><br>&nbsp;&lt;form
                            method="post" action="invoice"&gt;<br><br>&nbsp;&nbsp;Amount: &lt;input type="text" name="amount"/&gt; LTZ &lt;input type="submit" value="Generate Invoice" /&gt;<br><br>&nbsp;&lt;/form&gt;<br><br>&lt;/body&gt;<br><br><br><br>&lt;/html&gt;<br><br></p>
                        <p
                            style="color: #2a2a2a;font-weight: normal;"><br><br>You can access this page at `<strong>http://localhost:3001/lemonade-stand</strong>`.<br><br><br><br><strong>Pay Invoice Page</strong><br><br><br><br>Next we'll need to be able to generate the invoice server-side and display
                            a page to pay the invoice. Back to `<strong>index.js</strong>`:<br><br></p>
                            <p class="text-break border rounded code" style="color: #eff1f4;background-color: #2a2a2a;padding-left: 15px;padding-right: 15px;font-weight: normal;"><br>var EventEmitter = require('events').EventEmitter;<br><br>var fs = require('fs');<br><br>var ltzcore = require('ltzcore-lib');<br><br>var bodyParser = require('body-parser');<br><br><br><br>function LemonadeStand(options)
                                {<br><br>&nbsp;EventEmitter.call(this);<br><br><br><br>&nbsp;this.node = options.node;<br><br>&nbsp;this.log = this.node.log;<br><br><br><br>&nbsp;this.invoiceHtml = fs.readFileSync(__dirname + '/invoice.html', 'utf8');<br><br><br><br>&nbsp;//
                                Use 1 HD Private Key and generate a unique address for every invoice<br><br>&nbsp;this.hdPrivateKey = new ltzcore.HDPrivateKey(this.node.network);<br><br>&nbsp;this.log.info('Using key:', this.hdPrivateKey);<br><br>&nbsp;this.addressIndex
                                = 0;<br><br>}<br><br><br><br>inherits(LemonadeStand, EventEmitter);<br><br><br><br>LemonadeStand.dependencies = ['litecoinzd'];<br><br><br><br>LemonadeStand.prototype.start = function(callback) {<br><br>&nbsp;setImmediate(callback);<br><br>};<br><br><br><br>LemonadeStand.prototype.stop
                                = function(callback) {<br><br>&nbsp;setImmediate(callback);<br><br>};<br><br><br><br>LemonadeStand.prototype.getAPIMethods = function() {<br><br>&nbsp;return [];<br><br>};<br><br><br><br>LemonadeStand.prototype.getPublishEvents
                                = function() {<br><br>&nbsp;return [];<br><br>};<br><br><br><br>LemonadeStand.prototype.setupRoutes = function(app, express) {<br><br>&nbsp;var self = this;<br><br><br><br>&nbsp;app.use(bodyParser.urlencoded({extended:
                                true}));<br><br><br><br>&nbsp;app.use('/', express.static(__dirname + '/static'));<br><br><br><br>&nbsp;app.post('/invoice', function(req, res, next) {<br><br>&nbsp;&nbsp;self.addressIndex++;<br><br>&nbsp;&nbsp;self.amount
                                = parseFloat(req.body.amount) * 1e8;<br><br>&nbsp;&nbsp;res.status(200).send(self.filterInvoiceHTML());<br><br>&nbsp;});<br><br>};<br><br><br><br>LemonadeStand.prototype.getRoutePrefix = function() {<br><br>&nbsp;return
                                'lemonade-stand';<br><br>};<br><br><br><br>LemonadeStand.prototype.filterInvoiceHTML = function() {<br><br>&nbsp;var btc = this.amount / 1e8;<br><br>&nbsp;var address = this.hdPrivateKey.derive(this.addressIndex).privateKey.toAddress();<br><br>&nbsp;this.log.info('New
                                invoice with address:', address);<br><br>&nbsp;var hash = address.hashBuffer.toString('hex');<br><br>&nbsp;var transformed = this.invoiceHtml<br><br>&nbsp;&nbsp;.replace(/{{amount}}/g, ltz)<br><br>&nbsp;&nbsp;.replace(/{{address}}/g,
                                address)<br><br>&nbsp;&nbsp;.replace(/{{hash}}/g, hash)<br><br>&nbsp;&nbsp;.replace(/{{baseUrl}}/g, '/' + this.getRoutePrefix() + '/');<br><br>&nbsp;return transformed;<br><br>};<br><br><br><br>module.exports = LemonadeStand;<br><br></p>
                            <p
                                class="text-break text-left" style="color: #2a2a2a;font-weight: normal;"><br>Let's walk through this. In our constructor we are loading the HTML data into memory. We'll use this later to replace variables. In a normal application, you would probably use a templating engine like Handlebars or Mustache.<br><br><br><br>We
                                generate a random HDPrivateKey from which all of our invoice addresses will be generated. Normally what you would do is generate this on a separate computer and put the corresponding HDPublicKey on the server. That way
                                if your server is hacked, your litecoinz is still safe!<br><br><br><br>Each new invoice bumps the addressIndex by 1. This will create a unique litecoinz address for every invoice that is generated.<br><br><br><br>In `<strong>setupRoutes()</strong>`
                                we add an express middleware for parsing form data. Then we add a handler for `<strong>/invoice</strong>`. When the user submits the form from the first page we created, `<strong>amount</strong>` is passed to this `<strong>/invoice</strong>`
                                route. We then parse the amount and respond back with the html, replacing our placeholder values with real values.<br><br><br><br>Here is what `<strong>invoice.html</strong>` looks like:<br></p>
                                <p style="color: #fcfeff;background-color: #2a2a2a;padding-left: 15px;padding-right: 15px;padding-top: 15px;padding-bottom: 15px;font-weight: normal;">&lt;!DOCTYPE html&gt;<br><br>&lt;html&gt;<br><br>&lt;head&gt;<br><br>&nbsp;&lt;title&gt;Lemonade Stand&lt;/title&gt;<br><br>&nbsp;&lt;base href="{{baseUrl}}" /&gt;<br><br>&nbsp;&lt;script src="/socket.io/socket.io.js"&gt;&lt;/script&gt;<br><br>&nbsp;&lt;script
                                    src="js/jquery/dist/jquery.js"&gt;&lt;/script&gt;<br><br>&nbsp;&lt;script src="js/jquery-qrcode/jquery.qrcode.min.js"&gt;&lt;/script&gt;<br><br>&nbsp;&lt;script src="js/ltzcore-lib/ltzcore-lib.js"&gt;&lt;/script&gt;<br><br>&lt;/head&gt;<br><br><br><br>&lt;body&gt;<br><br>&nbsp;&lt;h1&gt;Lemonade
                                    Stand&lt;/h1&gt;<br><br>&nbsp;&lt;h2&gt;Invoice&lt;/h2&gt;<br><br>&nbsp;&lt;div id="qrcode"&gt;&lt;/div&gt;<br><br>&nbsp;&lt;p&gt;Please send {{amount}} LTZ to {{address}}&lt;/p&gt;<br><br>&nbsp;&lt;h2&gt;Transactions
                                    Received&lt;/h2&gt;<br><br>&nbsp;&lt;ul id="txids"&gt;<br><br>&nbsp;&lt;/ul&gt;<br><br><br><br>&nbsp;&lt;script type="text/javascript"&gt;<br><br>&nbsp;&nbsp;$('#qrcode').qrcode("litecoinz:{{address}}?amount={{amount}}");<br><br>&nbsp;&lt;/script&gt;<br><br><br><br>&nbsp;&lt;script
                                    language="javascript"&gt;<br><br>&nbsp;&nbsp;var ltzcore = require('ltzcore-lib');<br><br>&nbsp;&nbsp;var socket = io('http://localhost:3001');<br><br>&nbsp;&nbsp;socket.on('litecoinzd/addresstxid', function(data) {<br><br>&nbsp;&nbsp;&nbsp;var
                                    address = ltzcore.Address(data.address);<br><br>&nbsp;&nbsp;&nbsp;if (address.toString() == '{{address}}') {<br><br>&nbsp;&nbsp;&nbsp;&nbsp;var txidsElm = document.getElementById('txids');<br><br>&nbsp;&nbsp;&nbsp;&nbsp;var
                                    elm = document.createTextNode('txid: ' + data.txid);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;txidsElm.appendChild(elm);<br><br>&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;socket.emit('subscribe', 'litecoinzd/addresstxid',
                                    ['{{address}}']);<br><br>&nbsp;&lt;/script&gt;<br><br>&lt;/body&gt;<br><br><br><br>&lt;/html&gt;<br></p>
                                <p class="text-break text-left" style="color: #2a2a2a;font-weight: normal;"><br><br>This will generate a QR code with the litecoinz address and amount. It subscribes to the `<strong>litecoinzd/addresstxid</strong>` event from the `<strong>litecoinzd</strong>` service for the given address. Every
                                    time the address received a transaction, we receive an event over socket.io and we update the data received accordingly.<br><br><br><br>The file uses ltzcore on the client side to derive the address from the address
                                    object. We use bower to install the dependency in `<strong>static/js</strong>` directory.<br><br><br><br><strong>Conclusion</strong><br><br><br><br>So there we've built our very own litecoinz-accepting lemonade stand
                                    using ltzcore Node! Please see the [<a href="https://github.com/bitpay/lemonade-stand"><strong>git repository</strong></a>] as reference for all of the code.<br></p>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-clean" style="color: #eaf4f8;background-color: #333333;">
        <footer>
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-sm-4 col-md-3 item">
                        <h3>LitecoinZ</h3>
                        <ul>
                            <li><a href="https://blog.litecoinz.org">Blog</a></li>
                            <li><a href="../index.html">LitecoinZ</a></li>
                            <li><a href="../roadmap.html">Roadmap</a></li>
                            <li><a href="https://litecoinz.org/downloads/LITECOINZ-WHITE-PAPER.pdf">White Paper</a></li>
                        </ul>
                    </div>
                    <div class="col-sm-4 col-md-3 item">
                        <h3>Github</h3>
                        <ul>
                            <li><a href="https://github.com/litecoinz-project">Project</a></li>
                            <li><a href="https://github.com/LitecoinZ-Community">Community</a></li>
                        </ul>
                    </div>
                    <div class="col-sm-4 col-md-3 item">
                        <ul></ul>
                    </div>
                    <div class="col-lg-3 item social"><a href="https://discord.gg/QNcS4Pm"><i class="fab fa-discord"></i></a><a href="https://www.facebook.com/LitecoinZOfficialPage"><i class="icon ion-social-facebook"></i></a><a href="https://twitter.com/LitecoinzTeam"><i class="icon ion-social-twitter"></i></a>
                        <a
                            href="https://bitcointalk.org/index.php?topic=2767102.0"><i class="icon ion-social-bitcoin"></i></a>
                            <p class="copyright" style="color: #eaf4f8;">LitecoinZ DevelopersÂ® &nbsp;2019</p>
                    </div>
                </div>
            </div>
        </footer>
    </div>
    <div style="visibility: hidden;/*z-index: 1000;*//*opacity: 0;*/"><script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script><div id="particles-js"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.1.1/aos.js"></script>
    <script src="../assets/js/script.min.js"></script>
</body>

</html>